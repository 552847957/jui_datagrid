/**
 * jquery plugin which displays data in tabular format (datagrid)
 * Requires jquery, jquery-ui, jquery-ui themes
 * It uses jui_dropdown and jui_pagination plugin
 * Copyright 2012 Christos Pontikis http://pontikis.net
 * Project page https://github.com/pontikis/jui_datagrid
 * UPCOMING Release: 1.00 (?? Nov 2012)
 * License MIT
 * Minified using Online YUI Compressor http://www.refresh-sf.com/yui/
 */
"use strict";(function(k){var c="jui_datagrid";var m="jui_datagrid_status";var u={init:function(w){var x=this;return this.each(function(){var B=x.data(c);if(typeof(B)==="undefined"){var E=x.jui_datagrid("getDefaults");B=k.extend({},E,w)}else{B=k.extend({},B,w)}x.data(c,B);if(typeof x.data(m)==="undefined"){x.data(m,{});x.data(m)["a_selected_ids"]=[];x.data(m)["count_selected_ids"]=0;x.data(m)["col-min-width"]=[]}if(B.rowSelectionMode=="single"||B.rowSelectionMode==false){x.data(m)["a_selected_ids"]=[];x.data(m)["count_selected_ids"]=0}var F=x.attr("id");x.unbind("onCellClick").bind("onCellClick",B.onCellClick);x.unbind("onRowClick").bind("onRowClick",B.onRowClick);x.unbind("onDelete").bind("onDelete",B.onDelete);x.unbind("onDisplay").bind("onDisplay",B.onDisplay);var C,z,J,K,G,D,H;C=r(B.header_id_prefix,F);z=r(B.datagrid_header_id_prefix,F);J=r(B.datagrid_id_prefix,F);K=r(B.tools_id_prefix,F);G=r(B.pagination_id_prefix,F);D=r(B.pref_dialog_id_prefix,F);if(!x.data(m)["initialize"]){H='<div id="'+C+'">'+B.title+"</div>";H+='<div id="'+z+'"></div>';H+='<div id="'+J+'"></div>';H+='<div id="'+K+'"></div>';H+='<div id="'+G+'"></div>';H+='<div id="'+D+'"></div>';x.html(H);x.data(m)["initialize"]=true}var N=k("#"+C);var M=k("#"+z);var A=k("#"+J);var L=k("#"+K);var y=k("#"+G);var I=k("#"+D);x.removeClass().addClass(B.containerClass);if(typeof B.title==="undefined"){N.hide()}else{N.show().text(B.title).removeClass().addClass(B.headerClass)}M.removeClass().addClass(B.datagridHeaderClass);A.removeClass().addClass(B.datagridClass);L.removeClass().addClass(B.toolsClass);y.removeClass().addClass(B.paginationClass);k.ajax({type:"POST",url:B.ajaxFetchDataURL,data:{page_num:B.pageNum,rows_per_page:B.rowsPerPage},success:function(ak){var W=k.parseJSON(ak);var Y=W.row_primary_key;var U=W.total_rows;var ad=W.page_data;if(U==0){t(F);h(F,U)}else{a(F,U,ad,Y);p(F);n(F,Y);h(F,U,Y);d(F,U)}var af,T,X,Z;if(U>0){var aa=r(x.jui_datagrid("getOption","table_id_prefix"),F);Z=(aa+"_tr_").length;var R=k("#"+aa);var ac,ab;af="tbody tr td";R.off("click",af).on("click",af,function(){ac=k(this).index()+1;ab=k(this).parent("tr").index()+1;x.triggerHandler("onCellClick",{col:ac,row:ab})});af="tbody tr";R.off("click",af).on("click",af,function(){if(B.rowSelectionMode!=false){if(Y){var am=parseInt(k(this).attr("id").substr(Z));if(B.rowSelectionMode=="single"){i(F)}var al=k.inArray(am,x.data(m)["a_selected_ids"]);if(al>-1){s(F,am,al)}else{v(F,am)}f(F)}}x.triggerHandler("onRowClick",{row_id:am})})}if(B.showPrefButton){af="#"+r(B.tools_id_prefix,F)+"_pref";x.off("click",af).on("click",af,function(){g(F,D);var al=r(B.pref_tabs_id_prefix,F);k("#"+al).tabs({create:function(am,an){k("#"+al+" li a").blur()},activate:function(am,an){k("#"+al+" li a").blur()}})});var ah,P,ag;ah=["_btn_select","_btn_refresh","_btn_delete","_btn_print","_btn_export","_btn_filters"];P=["showSelectButtons","showRefreshButton","showDeleteButton","showPrintButton","showExportButton","showFiltersButton"];for(ag in ah){j(x,I,"#"+D+ah[ag],P[ag])}ah=["_slider","_goto_page","_rows_per_page","_rows_info","_nav_buttons"];P=["useSlider","showGoToPage","showRowsPerPage","showRowsInfo","showNavButtons"];for(ag in ah){e(x,I,"#"+D+ah[ag],P[ag])}}if(B.showSelectButtons&&B.rowSelectionMode=="multiple"&&Y){Z=(aa+"_tr_").length;var Q=k("#"+aa+" tbody tr");T=r(x.jui_datagrid("getOption","tools_id_prefix"),F);X=T+"_drop_select";var S={all_in_page:1,none_in_page:2,inv_in_page:3,none:4};k("#"+X).jui_dropdown({onSelect:function(am,an){var al=an.index;switch(al){case S.all_in_page:case S.none_in_page:case S.inv_in_page:Q.each(function(){var ap=parseInt(k(this).attr("id").substr(Z));var ao=k.inArray(ap,x.data(m)["a_selected_ids"]);if(al==S.all_in_page){if(ao>-1){}else{v(F,ap)}}else{if(al==S.none_in_page){if(ao>-1){s(F,ap,ao)}}else{if(al==S.inv_in_page){if(ao>-1){s(F,ap,ao)}else{v(F,ap)}}}}});break;case S.none:i(F);break}f(F)}})}if(B.showRefreshButton){af="#"+r(B.tools_id_prefix,F)+"_refresh";x.off("click",af).on("click",af,function(){k("#"+F).jui_datagrid("refresh")})}if(B.showDeleteButton&&Y){af="#"+r(B.tools_id_prefix,F)+"_delete";x.off("click",af).on("click",af,function(){x.triggerHandler("onDelete")})}if(U>0){var ae=B.pageNum;var V=B.rowsPerPage;var O=B.maxRowsPerPage;var aj=k("#"+G);var ai=x.jui_datagrid("getPaginationOption","showRowsInfo");aj.jui_pagination({onSetRowsPerPage:function(al,am){if(isNaN(am)||am<=0){x.jui_datagrid("refresh")}else{O=parseInt(O);if(O>0){if(am>O){am=O}}x.jui_datagrid({pageNum:1,rowsPerPage:am})}},onChangePage:function(am,al){x.jui_datagrid({pageNum:al})},onDisplay:function(){if(ai){var al=((ae-1)*V)+1;var am=Math.min(al+V-1,U);var an=al+"-"+am+" "+rsc_jui_dg.rows_info_of+" "+U+" "+rsc_jui_dg.rows_info_records;k(this).jui_pagination("setRowsInfo",an)}}})}x.triggerHandler("onDisplay")}})})},getDefaults:function(){return{pageNum:1,rowsPerPage:10,maxRowsPerPage:100,rowSelectionMode:"multiple",showPrefButton:true,showSelectButtons:true,showRefreshButton:true,showDeleteButton:true,showPrintButton:true,showExportButton:true,showFiltersButton:true,showPrefButtonText:false,showRefreshButtonText:false,showDeleteButtonText:true,showPrintButtonText:false,showExportButtonText:false,showFiltersButtonText:false,dropdownSelectOptions:{menuClass:"dropdown_select_menu",launcherClass:"dropdown_select_launcher"},usePagination:true,paginationOptions:{visiblePageLinks:5,useSlider:true,showGoToPage:false,showRowsPerPage:true,showRowsInfo:true,showPreferences:false,disableSelectionNavPane:true},containerClass:"grid_container ui-state-default ui-corner-all",headerClass:"grid_header ui-widget-header ui-corner-top",datagridHeaderClass:"grid_data_header ui-state-default",datagridClass:"grid_data ui-state-default",toolsClass:"grid_tools ui-state-default ui-corner-all",paginationClass:"grid_pagination",tableClass:"grid_table",headerTableClass:"grid_header_table",trHoverClass:"ui-state-hover trhover",thClass:"ui-state-default",tdClass:"ui-widget-content",selectedTrTdClass:"ui-state-highlight",tbButtonContainer:"tbBtnContainer",tbPrefIconClass:"ui-icon-gear",tbRefreshIconClass:"ui-icon-refresh",tbDeleteIconClass:"ui-icon-trash",tbPrintIconClass:"ui-icon-print",tbExportIconClass:"ui-icon-extlink",tbFiltersIconClass:"ui-icon-search",header_id_prefix:"header_",datagrid_header_id_prefix:"dgh_",datagrid_id_prefix:"dg_",table_id_prefix:"tbl_",header_table_id_prefix:"tblh_",tools_id_prefix:"tools_",pagination_id_prefix:"pag_",pref_dialog_id_prefix:"pref_dlg_",pref_tabs_id_prefix:"pref_tabs_",onCellClick:function(){},onRowClick:function(){},onDelete:function(){},onDisplay:function(){}}},getOption:function(w){var x=this;return x.data(c)[w]},getAllOptions:function(){var w=this;return w.data(c)},setOption:function(w,z,y){var x=this;x.data(c)[w]=z;if(y){x.jui_datagrid("init")}},refresh:function(){var w=this;w.jui_datagrid()},destroy:function(){return k(this).each(function(){var y=k(this);var x=y.attr("id");var w=y.jui_datagrid("getOption","pagination_id_prefix")+x;k("#"+w).removeData();y.removeData()})},getPaginationOption:function(y){var x=this.attr("id");var w=k("#"+x).jui_datagrid("getOption","pagination_id_prefix")+x;return k("#"+w).jui_pagination("getOption",y)},getAllPaginationOptions:function(){var x=this.attr("id");var w=k("#"+x).jui_datagrid("getOption","pagination_id_prefix")+x;return k("#"+w).jui_pagination("getAllOptions")}};var r=function(x,w){return x+w};var b=function(w){return(k("#"+w).length===0?false:true)};var q=function(w,x){if(!b(w)){return false}else{return(typeof k("#"+w).data(x)==="object"?true:false)}};var e=function(y,x,w,z){x.off("click",w).on("click",w,function(){var A={};A[z]=k(this).is(":checked");y.jui_datagrid({paginationOptions:A})})};var j=function(y,x,w,z){x.off("click",w).on("click",w,function(){var A={};A[z]=k(this).is(":checked");y.jui_datagrid(A)})};var o=function(w,x){var y;y="<li>";y+='<input type="checkbox" id="'+w+'" /><label for="'+w+'">'+x+"</label>";y+="</li>";return y};var l=function(D){var x=k("#"+D);var B=x.jui_datagrid("getOption","pref_dialog_id_prefix");var z=r(B,D);B=x.jui_datagrid("getOption","pref_tabs_id_prefix");var E=r(B,D);var y="";y+='<div id="'+E+'">';y+="<ul>";y+='<li><a href="#'+E+'_grid">'+rsc_jui_dg.pref_tab_grid+"</a></li>";y+='<li><a href="#'+E+'_tools">'+rsc_jui_dg.pref_tab_tools+"</a></li>";y+='<li><a href="#'+E+'_nav">'+rsc_jui_dg.pref_tab_nav+"</a></li>";y+="</ul>";y+='<div id="'+E+'_grid">';y+="Under construction 1";y+="</div>";y+='<div id="'+E+'_tools">';y+='<ul style="list-style-type: none;">';y+=o(z+"_btn_select",rsc_jui_dg.pref_show_select);y+=o(z+"_btn_refresh",rsc_jui_dg.pref_show_refresh);y+=o(z+"_btn_delete",rsc_jui_dg.pref_show_delete);y+=o(z+"_btn_print",rsc_jui_dg.pref_show_print);y+=o(z+"_btn_export",rsc_jui_dg.pref_show_export);y+=o(z+"_btn_filters",rsc_jui_dg.pref_show_filters);y+="</ul>";y+="</div>";y+='<div id="'+E+'_nav">';y+='<ul style="list-style-type: none;">';y+=o(z+"_slider",rsc_jui_pag.pref_show_slider);y+=o(z+"_goto_page",rsc_jui_pag.pref_show_goto_page);y+=o(z+"_rows_per_page",rsc_jui_pag.pref_show_rows_per_page);y+=o(z+"_rows_info",rsc_jui_pag.pref_show_rows_info);y+=o(z+"_nav_buttons",rsc_jui_pag.pref_show_nav_buttons);y+="</ul>";y+="</div>";y+="</div>";k("#"+z).html(y);var w,C,A;w=["_btn_select","_btn_refresh","_btn_delete","_btn_print","_btn_export","_btn_filters"];C=["showSelectButtons","showRefreshButton","showDeleteButton","showPrintButton","showExportButton","showFiltersButton"];for(A in w){k("#"+z+w[A]).attr("checked",x.jui_datagrid("getOption",C[A]))}w=["_slider","_goto_page","_rows_per_page","_rows_info","_nav_buttons"];C=["useSlider","showGoToPage","showRowsPerPage","showRowsInfo","showNavButtons"];for(A in w){k("#"+z+w[A]).attr("checked",x.jui_datagrid("getPaginationOption",C[A]))}};var g=function(w,x){var y=k("#"+x);if(q(x,"dialog")){y.dialog("destroy")}y.dialog({autoOpen:true,width:400,height:350,position:{my:"top",at:"top",of:"#"+w},title:rsc_jui_dg.preferences,buttons:[{text:rsc_jui_dg.preferences_close,click:function(){k(this).dialog("close");k(this).dialog("destroy")}}],open:l(w)})};var a=function(B,A,w,I){var z=k("#"+B);var E=w.length;var y=r(z.jui_datagrid("getOption","datagrid_header_id_prefix"),B);var G=r(z.jui_datagrid("getOption","datagrid_id_prefix"),B);var F=r(z.jui_datagrid("getOption","header_table_id_prefix"),B);var H=r(z.jui_datagrid("getOption","table_id_prefix"),B);var x,D,C;C='<table id="'+F+'">';C+="<thead>";x=(I?' id="'+F+'_tr_0"':"");C+="<tr"+x+">";k.each(w[0],function(J){C+="<th>"+J+"</th>"});C+="<tr>";C+="</thead>";C+="</table>";k("#"+y).html(C);C="";C='<table id="'+H+'">';C+="<tbody>";for(D=0;D<E;D++){x=(I?' id="'+H+"_tr_"+w[D][I]+'"':"");C+="<tr"+x+">";k.each(w[D],function(J,K){C+="<td>"+K+"</td>"});C+="</tr>"}C+="<tbody>";C+="</table>";k("#"+G).html(C)};var p=function(I){var L=k("#"+I);var y="#"+r(k(L).jui_datagrid("getOption","header_table_id_prefix"),I);var N="#"+r(k(L).jui_datagrid("getOption","table_id_prefix"),I);var K=k(y);var J=k(N);var O=L.jui_datagrid("getOption","headerTableClass");var G=L.jui_datagrid("getOption","tableClass");var C=L.jui_datagrid("getOption","trHoverClass");var w=L.jui_datagrid("getOption","thClass");var F=L.jui_datagrid("getOption","tdClass");K.removeClass().addClass(O);K.find("th").removeClass().addClass(w);J.removeClass().addClass(G);if(C!=""){J.on("mouseover mouseout","tbody tr",function(P){k(this).children().toggleClass(C,P.type=="mouseover")})}J.find("td").removeClass().addClass(F);var E=k(y+" th").length;var H,A,D,x,z;var B=[];if(L.data(m)["col-min-width"].length==0){k(y).addClass("shrink");for(H=0;H<E;H++){x=k(y).find("tr").eq(0).find("th").eq(H);D=x.width();L.data(m)["col-min-width"].push(D);z=k(N).find("tr").eq(0).find("td").eq(H);z.css("min-width",D+"px")}k(y).removeClass("shrink")}else{for(H in L.data(m)["col-min-width"]){z=k(N).find("tr").eq(0).find("td").eq(H);z.css("min-width",L.data(m)["col-min-width"][H]+"px")}}for(H=0;H<E-1;H++){var M=k(N).find("tr").eq(0).find("td").eq(H);A=M.width();B.push(A);k(y+" th").eq(H).width(A)}for(H=0;H<E;H++){k(N+" tr").eq(0).find("td").eq(H).width(B[H])}};var n=function(w,B){if(B){var A=k("#"+w);var z=A.jui_datagrid("getOption","rowSelectionMode");var x=A.jui_datagrid("getOption","selectedTrTdClass");var D=r(A.jui_datagrid("getOption","table_id_prefix"),w);var y=(D+"_tr_").length;if(z=="multiple"){var C="#"+D+" tbody tr";k(C).each(function(){var F=parseInt(k(this).attr("id").substr(y));var E=k.inArray(F,A.data(m)["a_selected_ids"]);if(E>-1){k(this).children("td").addClass(x)}})}else{i(w)}}else{i(w)}};var h=function(X,J,R){var aj=k("#"+X);var ap=r(aj.jui_datagrid("getOption","tools_id_prefix"),X);var ad=aj.jui_datagrid("getOption","toolsClass");var ae=aj.jui_datagrid("getOption","rowSelectionMode");var T=aj.jui_datagrid("getOption","tbButtonContainer");var af=aj.jui_datagrid("getOption","showPrefButton");var W=aj.jui_datagrid("getOption","showPrefButtonText");var B=aj.jui_datagrid("getOption","tbPrefIconClass");var ag=aj.jui_datagrid("getOption","showSelectButtons");var V=aj.jui_datagrid("getOption","showRefreshButton");var ai=aj.jui_datagrid("getOption","showRefreshButtonText");var A=aj.jui_datagrid("getOption","tbRefreshIconClass");var ak=aj.jui_datagrid("getOption","showDeleteButton");var M=aj.jui_datagrid("getOption","showDeleteButtonText");var Y=aj.jui_datagrid("getOption","tbDeleteIconClass");var D=aj.jui_datagrid("getOption","showPrintButton");var al=aj.jui_datagrid("getOption","showPrintButtonText");var H=aj.jui_datagrid("getOption","tbPrintIconClass");var ac=aj.jui_datagrid("getOption","showExportButton");var L=aj.jui_datagrid("getOption","showExportButtonText");var P=aj.jui_datagrid("getOption","tbExportIconClass");var G=aj.jui_datagrid("getOption","showFiltersButton");var aa=aj.jui_datagrid("getOption","showFiltersButtonText");var ab=aj.jui_datagrid("getOption","tbFiltersIconClass");var F="";if(af){F+='<div class="'+T+'">';var x=ap+"_pref";F+='<button id="'+x+'">'+rsc_jui_dg.preferences+"</button>";F+="</div>"}if(J>0){if(ag&&ae=="multiple"&&R){var ah=ap+"_drop_select";var C=aj.data(m)["count_selected_ids"];F+='<div class="'+T+'">';F+='<div id="'+ah+'">';F+='<div id="'+ah+'_launcher_container">';F+='<button id="'+ah+'_launcher">'+rsc_jui_dg.tb_selected_label+": "+C+"</button>";F+="</div>";F+='<ul id="'+ah+'_menu">';F+='<li id="'+ah+'_all_in_page"><a href="javascript:void(0);">'+rsc_jui_dg.tb_select_all_in_page+"</a></li>";F+='<li id="'+ah+'_none_in_page"><a href="javascript:void(0);">'+rsc_jui_dg.tb_select_none_in_page+"</a></li>";F+='<li id="'+ah+'_inv_in_page"><a href="javascript:void(0);">'+rsc_jui_dg.tb_select_inverse_in_page+"</a></li>";F+="<hr>";F+='<li id="'+ah+'_none"><a href="javascript:void(0);">'+rsc_jui_dg.tb_select_none+"</a></li>";F+="</ul>";F+="</div>";F+="</div>"}}if(V){F+='<div class="'+T+'">';var aq=ap+"_refresh";F+='<button id="'+aq+'">'+rsc_jui_dg.tb_refresh+"</button>";F+="</div>"}if(J>0){if(ak&&R){F+='<div class="'+T+'">';var I=ap+"_delete";F+='<button id="'+I+'">'+rsc_jui_dg.tb_delete+"</button>";F+="</div>"}}if(J>0){if(D||ac){F+='<div class="'+T+'">'}if(D){var N=ap+"_print";F+='<button id="'+N+'">'+rsc_jui_dg.tb_print+"</button>"}if(ac){var z=ap+"_export";F+='<button id="'+z+'">'+rsc_jui_dg.tb_export+"</button>"}if(D||ac){F+="</div>"}}if(G){F+='<div class="'+T+'">';var S=ap+"_filters";F+='<button id="'+S+'">'+rsc_jui_dg.tb_filters+"</button>";F+="</div>"}k("#"+ap).html(F);if(af){k("#"+x).button({label:rsc_jui_dg.preferences,text:W,icons:{primary:B}})}if(J>0){if(ag&&ae=="multiple"&&R){var y=k("#"+ah);var U=ah+"_launcher";var K=ah+"_launcher_container";var w=ah+"_menu";var E=aj.jui_datagrid("getOption","dropdownSelectOptions");var Q=["launcher_id","launcher_container_id","menu_id","onSelect"];for(var am in Q){if(typeof(E[Q[am]])!="undefined"){delete E[Q[am]]}}var Z=y.data("jui_dropdown");if(typeof(Z)==="undefined"){var O=aj.jui_datagrid("getDefaults");var ao=O.dropdownSelectOptions;Z=k.extend({},ao,E)}else{Z=k.extend({},Z,E)}var an={launcher_id:U,launcher_container_id:K,menu_id:w};Z=k.extend({},Z,an);y.jui_dropdown(Z)}}if(V){k("#"+aq).button({label:rsc_jui_dg.tb_refresh,text:ai,icons:{primary:A}})}if(J>0){if(ak){k("#"+I).button({label:rsc_jui_dg.tb_delete,text:M,icons:{primary:Y}})}}if(J>0){if(D){k("#"+N).button({label:rsc_jui_dg.tb_print,text:al,icons:{primary:H}})}if(ac){k("#"+z).button({label:rsc_jui_dg.tb_export,text:L,icons:{primary:P}})}}if(G){k("#"+S).button({label:rsc_jui_dg.tb_filters,text:aa,icons:{primary:ab}})}};var d=function(E,B){var A=k("#"+E);var I=A.jui_datagrid("getOption","pageNum");var x=A.jui_datagrid("getOption","rowsPerPage");var C=A.jui_datagrid("getOption","maxRowsPerPage");var L=Math.ceil(B/x);var w=A.jui_datagrid("getOption","paginationClass");var H=r(A.jui_datagrid("getOption","pagination_id_prefix"),E);var z=k("#"+H);var D=A.jui_datagrid("getOption","paginationOptions");var M=["currentPage","rowsPerPage","totalPages","containerClass","onSetRowsPerPage","onChangePage","onDisplay"];for(var G in M){if(typeof(D[M[G]])!="undefined"){delete D[M[G]]}}var J=z.data("jui_pagination");if(typeof(J)==="undefined"){var F=A.jui_datagrid("getDefaults");var K=F.paginationOptions;J=k.extend({},K,D)}else{J=k.extend({},J,D)}var y={currentPage:I,rowsPerPage:x,totalPages:L,containerClass:w};J=k.extend({},J,y);z.jui_pagination(J)};var t=function(z){var y=k("#"+z);var x=y.jui_datagrid("getOption","datagrid_id_prefix")+z;var w=y.jui_datagrid("getOption","pagination_id_prefix")+z;k("#"+x).html(rsc_jui_dg.no_records_found);k("#"+w).hide()};var v=function(x,y){var B=k("#"+x);var w=B.jui_datagrid("getOption","table_id_prefix");var C=r(w,x);var A=k("#"+C+"_tr_"+y);var z=B.jui_datagrid("getOption","selectedTrTdClass");B.data(m)["a_selected_ids"].push(y);B.data(m)["count_selected_ids"]+=1;A.children("td").addClass(z)};var s=function(x,y,A){var C=k("#"+x);var w=C.jui_datagrid("getOption","table_id_prefix");var D=r(w,x);var B=k("#"+D+"_tr_"+y);var z=C.jui_datagrid("getOption","selectedTrTdClass");C.data(m)["a_selected_ids"].splice(A,1);C.data(m)["count_selected_ids"]-=1;B.children("td").removeClass(z)};var i=function(x){var A=k("#"+x);var w=A.jui_datagrid("getOption","table_id_prefix");var B=r(w,x);var z=k("#"+B);var y=A.jui_datagrid("getOption","selectedTrTdClass");A.data(m)["a_selected_ids"]=[];A.data(m)["count_selected_ids"]=0;z.find("td").removeClass(y)};var f=function(w){var y=k("#"+w);var z=y.data(m)["count_selected_ids"];var x=r(y.jui_datagrid("getOption","tools_id_prefix"),w);var A=x+"_drop_select";k("#"+A+"_launcher").button({label:rsc_jui_dg.tb_selected_label+": "+z})};k.fn.jui_datagrid=function(x){if(this.size()!=1){var w="You must use this plugin ("+c+") with a unique element (at once)";this.html('<span style="color: red;">ERROR: '+w+"</span>");k.error(w)}if(u[x]){return u[x].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof x==="object"||!x){return u.init.apply(this,arguments)}else{k.error("Method "+x+" does not exist on jQuery."+c)}}}})(jQuery);